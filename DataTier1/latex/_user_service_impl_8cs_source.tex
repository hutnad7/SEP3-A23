\doxysection{User\+Service\+Impl.\+cs}
\hypertarget{_user_service_impl_8cs_source}{}\label{_user_service_impl_8cs_source}\index{Service/Services/UserServiceImpl.cs@{Service/Services/UserServiceImpl.cs}}
\mbox{\hyperlink{_user_service_impl_8cs}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00001}00001\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespace_data_1_1_interfaces}{Data.Interfaces}};}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00002}00002\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespace_data_1_1_models}{Data.Models}};}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00003}00003\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespace_data_1_1_state}{Data.State}};}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00004}00004\ \textcolor{keyword}{using\ }Grpc.Core;}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00005}00005\ }
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00006}00006\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespace_service_1_1_services}{Service.Services}}}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00007}00007\ \{}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00008}\mbox{\hyperlink{class_service_1_1_services_1_1_user_service_impl}{00008}}\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_service_1_1_services_1_1_user_service_impl}{UserServiceImpl}}\ :\ UserService.UserServiceBase}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00009}00009\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00010}00010\ \ \ \ \ \ \ \ \ \textcolor{keyword}{private}\ readonly\ ILogger<EventServiceImpl>\ \_logger;}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00011}00011\ \ \ \ \ \ \ \ \ \textcolor{keyword}{private}\ readonly\ \mbox{\hyperlink{interface_data_1_1_interfaces_1_1_i_auth_repository}{IAuthRepository}}\ \_authRepository;}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00012}00012\ }
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00013}\mbox{\hyperlink{class_service_1_1_services_1_1_user_service_impl_a7132c11c81ffc27dc10a2e53f9295855}{00013}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_service_1_1_services_1_1_user_service_impl_a7132c11c81ffc27dc10a2e53f9295855}{UserServiceImpl}}(ILogger<EventServiceImpl>\ logger,\ \mbox{\hyperlink{interface_data_1_1_interfaces_1_1_i_auth_repository}{IAuthRepository}}\ authRepository)}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00014}00014\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00015}00015\ \ \ \ \ \ \ \ \ \ \ \ \ \_logger\ =\ logger;}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00016}00016\ \ \ \ \ \ \ \ \ \ \ \ \ \_authRepository\ =\ authRepository;}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00017}00017\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00018}00018\ }
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00019}\mbox{\hyperlink{class_service_1_1_services_1_1_user_service_impl_aa3c61c2b49b3f6f771cb801e868608d0}{00019}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{override}\ async\ Task<CreateUserResponse>\ \mbox{\hyperlink{class_service_1_1_services_1_1_user_service_impl_aa3c61c2b49b3f6f771cb801e868608d0}{CreateUser}}(\mbox{\hyperlink{class_create_user_request}{CreateUserRequest}}\ request,\ ServerCallContext\ context)}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00020}00020\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00021}00021\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00022}00022\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00023}00023\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_data_1_1_models_1_1_user}{User}}\ user\ =\ \textcolor{keyword}{new}()}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00024}00024\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00025}00025\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Id\ =\ Guid.NewGuid(),}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00026}00026\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Firstname\ =\ request.\mbox{\hyperlink{class_create_user_request_acf87b9fc1284fc99a881ccad444666bd}{FisrtName}},}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00027}00027\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Lastname\ =\ request.\mbox{\hyperlink{class_create_user_request_a0690f1b499f9ed303bcc7c1be367f5db}{LastName}},}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00028}00028\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Username\ =\ request.Email\ +\ \textcolor{stringliteral}{"{}u"{}},}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00029}00029\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Email\ =\ request.\mbox{\hyperlink{class_create_user_request_a1e1b1f203a5eaa5600129e75714ecec3}{Email}},}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00030}00030\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ CreationDate\ =\ DateTime.Now.ToString(),}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00031}00031\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Description\ =\ request.\mbox{\hyperlink{class_create_user_request_ace97add2794c7a1977728d65e067f23a}{Description}},}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00032}00032\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_data_1_1_models_a4ca06d0eba59dff4686824595750f053}{Role}}\ =\ Enum.Parse<\mbox{\hyperlink{namespace_data_1_1_models_a4ca06d0eba59dff4686824595750f053}{Role}}>(request.\mbox{\hyperlink{class_create_user_request_ac2996486b20c8e116df4c3606a2cd584}{Role}}),}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00033}00033\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ PasswordHash\ =\ request.\mbox{\hyperlink{class_create_user_request_a17201c402eaae32951ff9d1e723ef15d}{Password}}}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00034}00034\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00035}00035\ }
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00036}00036\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_data_1_1_models_1_1_user}{User}}\ createdUser\ =\ await\ \_authRepository.RegisterUserAsync(user);}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00037}00037\ }
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00038}00038\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_create_user_response}{CreateUserResponse}}\ response\ =\ \textcolor{keyword}{new}()}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00039}00039\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00040}00040\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ FisrtName\ =\ createdUser.\mbox{\hyperlink{class_data_1_1_models_1_1_user_ae517071af89c2f9fb365e2bba9573f7d}{Firstname}},}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00041}00041\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ LastName\ =\ createdUser.\mbox{\hyperlink{class_data_1_1_models_1_1_user_aa6db365a2318633bc6bff47b3b30c9ae}{Lastname}},}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00042}00042\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Description\ =\ createdUser.\mbox{\hyperlink{class_data_1_1_models_1_1_user_a002abe68e587be976bc1b7c2e583d4c0}{Description}},}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00043}00043\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Username\ =\ createdUser.\mbox{\hyperlink{class_data_1_1_models_1_1_user_a771f52c5344e3bc7c17bf4809551684a}{Username}},}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00044}00044\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Email\ =\ createdUser.\mbox{\hyperlink{class_data_1_1_models_1_1_user_a9ce90c10eb34ca893afbd4a4c4992478}{Email}},}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00045}00045\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_data_1_1_models_a4ca06d0eba59dff4686824595750f053}{Role}}\ =\ createdUser.\mbox{\hyperlink{class_data_1_1_models_1_1_user_a49a6a912367f723bc1a1e5cfc8b3403e}{Role}}.ToString(),}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00046}00046\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Id\ =\ createdUser.\mbox{\hyperlink{class_data_1_1_models_1_1_base_entity_a7d3260b1b11dcbaa9fff6c47a048584d}{Id}}.ToString(),}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00047}00047\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00048}00048\ }
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00049}00049\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ response;}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00050}00050\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00051}00051\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{catch}\ (Exception\ e)}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00052}00052\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00053}00053\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Console.WriteLine(e);}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00054}00054\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw};}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00055}00055\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00056}00056\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00057}00057\ }
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00058}\mbox{\hyperlink{class_service_1_1_services_1_1_user_service_impl_adb8233473394a399a17cfffb5cfb8319}{00058}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{override}\ async\ Task<CreateUserResponse>\ \mbox{\hyperlink{class_service_1_1_services_1_1_user_service_impl_adb8233473394a399a17cfffb5cfb8319}{LoginUser}}(\mbox{\hyperlink{class_login_request}{LoginRequest}}\ request,\ ServerCallContext\ context)}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00059}00059\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00060}00060\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_data_1_1_models_1_1_auth}{Auth}}\ auth\ =\ \textcolor{keyword}{new}()}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00061}00061\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00062}00062\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Email\ =\ request.\mbox{\hyperlink{class_login_request_ad6390c5bf154d12dc4f88f28df7fd166}{Email}},}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00063}00063\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Password\ =\ request.Password}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00064}00064\ \ \ \ \ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00065}00065\ }
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00066}00066\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_data_1_1_models_1_1_user}{User}}?\ foundUser\ =\ await\ \_authRepository.LoginUserAsync(auth);}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00067}00067\ }
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00068}00068\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_create_user_response}{CreateUserResponse}}\ response\ =\ \textcolor{keyword}{new}()}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00069}00069\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00070}00070\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ FisrtName\ =\ foundUser.\mbox{\hyperlink{class_data_1_1_models_1_1_user_ae517071af89c2f9fb365e2bba9573f7d}{Firstname}},}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00071}00071\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ LastName\ =\ foundUser.\mbox{\hyperlink{class_data_1_1_models_1_1_user_aa6db365a2318633bc6bff47b3b30c9ae}{Lastname}},}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00072}00072\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Username\ =\ foundUser.\mbox{\hyperlink{class_data_1_1_models_1_1_user_a771f52c5344e3bc7c17bf4809551684a}{Username}},}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00073}00073\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Email\ =\ foundUser.\mbox{\hyperlink{class_data_1_1_models_1_1_user_a9ce90c10eb34ca893afbd4a4c4992478}{Email}},}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00074}00074\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_data_1_1_models_a4ca06d0eba59dff4686824595750f053}{Role}}\ =\ foundUser.\mbox{\hyperlink{class_data_1_1_models_1_1_user_a49a6a912367f723bc1a1e5cfc8b3403e}{Role}}.ToString(),}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00075}00075\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Id\ =\ foundUser.\mbox{\hyperlink{class_data_1_1_models_1_1_base_entity_a7d3260b1b11dcbaa9fff6c47a048584d}{Id}}.ToString(),}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00076}00076\ \ \ \ \ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00077}00077\ }
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00078}00078\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ response;}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00079}00079\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00080}00080\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_user_service_impl_8cs_source_l00081}00081\ \}}

\end{DoxyCode}
